<!DOCTYPE html>
<!-- saved from url=(0108)https://gateway.answerscloud.com/diy-uk/production/feedback/fs.storageframe.html?d=www.diy.com&v=R0366F3D9FF -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>ForeSee Cloud Services Storage Utility Frame</title><script>
        /***************************************
* @license
* ForeSee Client Code: Utils Library
* http://www.answers.com/page/businesssolutions
* Built March 30, 16 10:01:33
* Version: 1.0.11
***************************************/
var utils={};utils.isDefined=function(t){return null!==t&&"undefined"!=typeof t},utils.isFunction=function(t){return"function"==typeof t},utils.isObject=function(t){return"object"==typeof t},utils.isArr=function(t){return"[object Array]"==Object.prototype.toString.call(t)},utils.escapeRegExp=function(t){return t.toString().replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},utils.trim=function(t){return t.toString().replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},utils.stripHTML=function(t){return t=t||"",t.replace(/(<([^>]+)>)/gi,"")},utils.proxy=function(t,e){var i,s,n=Function.prototype.bind,r=Array.prototype.slice;return n&&t.bind===n?n.apply(t,r.call(arguments,1)):(i=r.call(arguments,2),s=function(){if(!(this instanceof s))return t.apply(e,i.concat(r.call(arguments)));ctor.prototype=t.prototype;var n=ctor();ctor.prototype=null;var o=t.apply(n,i.concat(r.call(arguments)));return Object(o)===o?o:n})},utils.superDispose=function(t){if(t){if(t.length)for(var e=t.length-1;e>=0;e--)t[e]=null;for(var i in t){var s=typeof t[i];("function"==s||"object"==s)&&(t[i]=null)}}t=null},utils.ext=function(){var t,e,i,s=arguments,n=s[0]||{},r=1,o=s.length,a=arguments[arguments.length-1]===!1;for("object"==typeof n||utils.isFunction(n)||(n={}),o===r&&(n=this,--r);o>r;r++)if(utils.isDefined(t=s[r]))for(e in t)i=t[e],n!==i&&void 0!==i&&(utils.isArr(i)?i=i.slice(0):"object"!=typeof i||a||(i=utils.ext({},i)),n[e]=i);return n},utils.merge=function(){for(var t={},e=arguments,i=0,s=e.length;s>i;i++){var n=e[i];if(utils.isPlainObject(n))for(var r in n){var o=n[r],a=t[r];t[r]=a&&utils.isPlainObject(o)&&utils.isPlainObject(a)?utils.merge(a,o):utils.unlink(o)}}return t},utils.unlink=function(t){var e;if(utils.isPlainObject(t)){e={};for(var i in t)e[i]=utils.unlink(t[i])}else if(utils.isArr(t)){e=[];for(var s=0,n=t.length;n>s;s++)e[s]=utils.unlink(t[s])}else e=t;return e},utils.isPlainObject=function(t){if(!t||"[object Object]"!==Object.prototype.toString.call(t)||t.nodeType||t.setInterval)return!1;if(t.constructor&&!hasOwnProperty.call(t,"constructor")&&!hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1;var e;for(e in t);return void 0===e||hasOwnProperty.call(t,e)||!hasOwnProperty.call(t,e)&&hasOwnProperty.call(Object.prototype,e)},utils.getSize=function(t){var e=0,i=0,s=t.document,n=s.documentElement;return"number"==typeof t.innerWidth?(e=t.innerWidth,i=t.innerHeight):n&&(n.clientWidth||n.clientHeight)?(e=n.clientWidth,i=n.clientHeight):s.body&&(s.body.clientWidth||s.body.clientHeight)&&(e=s.body.clientWidth,i=s.body.clientHeight),{w:e,h:i}},utils.getScroll=function(t){var e=0,i=0,s=t.document,n=s.documentElement;return"number"==typeof t.pageYOffset?(i=t.pageYOffset,e=t.pageXOffset):s.body&&(s.body.scrollLeft||s.body.scrollTop)?(i=s.body.scrollTop,e=s.body.scrollLeft):n&&(n.scrollLeft||n.scrollTop)&&(i=n.scrollTop,e=n.scrollLeft),{x:e,y:i}},utils.setScroll=function(t,e,i){t.scrollTo(e,i)},utils.getScreenResolution=function(){var t=window.screen;return utils.isDefined(t)&&utils.isDefined(t.width)&&"number"==typeof t.width?{w:t.width,h:t.height}:{w:0,h:0}},utils.getParam=function(t){var e={};location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,i,s){e[i]=s});return e[t]};var bindings={};utils.preventDefault=function(t){t&&t.preventDefault?t.preventDefault():window.event&&window.event.returnValue?window.eventReturnValue=!1:t.returnValue=!1};var unloadList=[],_extractEventNS=function(t){var e="default";if(t.indexOf(":")>-1){var i=t.split(":");e=i[0],t=i[1]}return bindings[e]||(bindings[e]={}),bindings[e][t]||(bindings[e][t]=[]),{ns:e,en:t}};utils.Bind=function(t,e,i,s){if(t&&e){e=e.toLowerCase();var n=_extractEventNS(e);if(bindings[n.ns][n.en].push({elem:t,cb:i,ub:s}),e.indexOf("unload")>-1)return void unloadList.push(i);"propertychange"!=n.en&&t.addEventListener?t.addEventListener(n.en,i,!s):t.attachEvent&&t.attachEvent("on"+n.en,i)}},utils.BindOnce=function(t,e,i){if(t&&e){var s=_extractEventNS(e);if(t["_acsEvent"+s.en])return;t["_acsEvent"+s.en]=!0,utils.Bind(t,e,i)}};var _runActualUnBind=function(t,e,i,s){e&&(e.parentNode||e.window)&&("propertychange"!=t&&e.removeEventListener?e.removeEventListener(t,i,!s):e.detachEvent&&e.detachEvent("on"+t,i))};utils.Unbind=function(t,e,i,s){var n,r,o,a;if(e&&e.indexOf("unload")>-1){for(a=0;a<unloadList.length;a++)if(unloadList[a]==i){unloadList.splice(a,1);break}}else if(0===arguments.length)for(var l in bindings)utils.Unbind(l+":*"),delete bindings[l];else if("string"==typeof t)if(n=_extractEventNS(t),"default"==n.ns){for(var u in bindings)if(bindings.hasOwnProperty(u)){r=bindings[u];for(var c in r)if(r.hasOwnProperty(c)&&(c==n.en||"*"==n.en))for(a=0;a<r[c].length;a++)o=r[c][a],_runActualUnBind(c,o.elem,o.cb,o.ub),r[c].splice(a--,1)}}else{r=bindings[n.ns];for(var d in r)if(r.hasOwnProperty(d)&&(d==n.en||"*"==n.en))for(a=0;a<r[d].length;a++)o=r[d][a],_runActualUnBind(d,o.elem,o.cb,o.ub),r[d].splice(a--,1)}else if(t&&!e){for(var h in bindings)if(bindings.hasOwnProperty(h)){r=bindings[h];for(var f in r)if(r.hasOwnProperty(f))for(a=0;a<r[f].length;a++)o=r[f][a],o.elem===t&&(_runActualUnBind(f,o.elem,o.cb,o.ub),r[f].splice(a--,1))}}else if(t&&e)if(n=_extractEventNS(e),"default"==n.ns){for(var p in bindings)if(bindings.hasOwnProperty(p)){r=bindings[p];for(var g in r)if(r.hasOwnProperty(g)&&(g==n.en||"*"==n.en))for(a=0;a<r[g].length;a++)o=r[g][a],o.elem===t&&(_runActualUnBind(g,o.elem,i?i:o.cb,o.ub),r[g].splice(a--,1))}}else{n=_extractEventNS(e),r=bindings[n.ns];for(var m in r)if(r.hasOwnProperty(m)&&(m==n.en||"*"==n.en))for(a=0;a<r[m].length;a++)o=r[m][a],o.elem===t&&(_runActualUnBind(m,o.elem,i?i:o.cb,o.ub),r[m].splice(a--,1))}},utils.HandleUnload=function(){for(var t=unloadList.length-1;t>=0;t--)try{unloadList[t].call()}catch(e){}utils.superDispose(unloadList),utils.Unbind()},document.addEventListener?(window.addEventListener("beforeunload",utils.HandleUnload,!0),window.addEventListener("pagehide",utils.HandleUnload,!0),document.addEventListener("unload",utils.HandleUnload,!0)):document.attachEvent&&window.attachEvent("onunload",utils.HandleUnload),utils.FSEvent=function(){this.id="_"+Math.round(99999*Math.random()),this.subscriptions=[],this.didFire=!1},utils.FSEvent.prototype.subscribe=function(t,e,i){return this.subscriptions.push({once:!!e,cb:t}),i&&this.didFire&&(this.prevArgs?this.fire.apply(this,this.prevArgs):this.fire()),{unsubscribe:function(t,e){return function(){t.unsubscribe(e)}}(this,t)}},utils.FSEvent.prototype.unsubscribe=function(t){for(var e=0;e<this.subscriptions.length;e++)this.subscriptions[e].cb==t&&(this.subscriptions.splice(e,1),e--)},utils.FSEvent.prototype.unsubscribeAll=function(){this.subscriptions=[]},utils.FSEvent.prototype.fire=function(){this.didFire=!0,this.prevArgs=arguments;for(var t=0;t<this.subscriptions.length;t++){var e=this.subscriptions[t];e.once&&this.subscriptions.splice(t--,1),e.cb.apply(this,arguments)}},utils.FULL_DAY=864e5,utils.now=function(){return+new Date},utils.startTime=utils.now();var __ver__=encodeURIComponent(utils.getParam("v"));utils.makeURI=function(t){var e="";t=t||"/";return-1==t.indexOf("//")&&(t="/"==e.substr(e.length-1,1)&&"/"==t.substr(0,1)?e+t.substr(1):e+t),t+(t.indexOf("?")>-1?"&":"?")+"v="+__ver__},utils.addClass=function(t,e){var i,s,n;for(utils.isDefined(t.length)||(t=[t]),i=0,s=t.length;s>i;i++){n=t[i];var r=n.className||"";new RegExp("\\b"+e+"\\b").test(r)||(n.className=(""===r?"":r+" ")+e)}},utils.removeClass=function(t,e){var i,s,n;for(utils.isDefined(t.length)||(t=[t]),i=0,s=t.length;s>i;i++)n=t[i],n.className&&(n.className=n.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))},utils.hasClass=function(t,e){return t.className.indexOf(e)>-1},utils.css=function(t,e,i){if(t){utils.isDefined(t.length)||(t=[t]);for(var s=0;s<t.length;s++)for(var n in e)n&&(-1=="zIndex".indexOf(n)&&"number"==typeof e[n]&&"opacity"!=n&&(e[n]+="px"),i?t[s].style.cssText+=";"+n+":"+e[n]+" !important":t[s].style[n]=e[n])}return t},utils.attr=function(t,e){if(t){utils.isDefined(t.length)||(t=[t]);for(var i=0;i<t.length;i++)for(var s in e)t[i].setAttribute(s,e[s])}return t},utils.restrictFocus=function(t){for(var e=document.querySelectorAll("a, input[type=text], textarea, button, input[type=radio], select, *[tabIndex]",t).sort(function(t,e){return parseInt(t.tabIndex)>parseInt(e.tabIndex)}),i=function(t){return function(e){if(9===e.keyCode)for(var i=0;i<t.length;i++)if(t[i]===e.target){e.preventDefault?e.preventDefault():e.returnValue=!1;var s=i;if(e.shiftKey){do s=0===s?t.length-1:s-1;while((t[s].offsetLeft<=0||t[s].tabIndex<0)&&s!=i)}else do s=(s+1)%t.length;while((t[s].offsetLeft<=0||t[s].tabIndex<0)&&s!=i);t[s].focus();break}}},s=0;s<e.length;s++){var n=e[s];utils.Unbind(n,"keydown"),utils.Bind(n,"keydown",i(e))}},utils.hideAll=function(t){for(var e=document.body.querySelectorAll("*"),i=0;i<e.length;i++)utils.css(e[i],{display:"none"})},utils.elindex=function(t){for(var e,i=t.parentNode.childNodes,s=0,n=0;(e=i.item(s++))&&e!=t;)1==e.nodeType&&n++;return n},utils.testSameDomain=function(t,e){var i=document.createElement("a");i.href=location.href;var s=i.hostname,n=i.protocol;i.href=t;var r=i.hostname||s,o=0===i.protocol.indexOf("http")?i.protocol:n;i.href=e;var a=i.hostname||s,l=0===i.protocol.indexOf("http")?i.protocol:n;return r.toLowerCase()==a.toLowerCase()&&o.toLowerCase()==l.toLowerCase()},utils.addParameterToURL=function(t,e){return t+=(t.split("?")[1]?"&":"?")+e},utils.toQueryString=function(t,e){e=e||"";var i=e+(e.indexOf("?")>-1?"&":"?");if(t)for(var s in t)i+=encodeURIComponent(s)+"="+encodeURIComponent(t[s])+"&";return i},utils.hash=function(t){var e=t.split("_");return 3*e[0]+1357+""+(9*e[1]+58)},utils.hashCode=function(t){var e,i=0,s="";if(0===t.length)return i;for(e=0;e<t.length;e++)s=t.charCodeAt(e),i=(i<<5)-i+s,i&=i;return i},utils.parameter=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&+]"+t+"=([^&#]*)"),i=e.exec(window.location.href.toString());return utils.isDefined(i)?i[1]:!1},utils.ACSStorage=function(config,t){this.cfg=config||{config:{site_id:(window.location.host+"").replace(/www\./gi,"").split(":")[0],repeatDays:90}},this.cfg.product=this.cfg.product||t||"foresee",this.storId="acs.t";var e=window.location.host.toString().toLowerCase().replace(/www\./gi,"");e.indexOf(":")>-1&&(e=e.substr(0,e.indexOf(":")));var i={path:"/",domain:e,secure:!1,encode:!0,expires:this.setNewRepeatDays(90).toGMTString()};"SESSION"==this.cfg.config.persistence&&delete i.expires,this.ckie=new utils.Cookie(i),this.data=JSON.parse(this.ckie.get(this.storId)||"{}"),utils.FrameController.isSupported()&&(this.fstg=new utils.FrameController(this.cfg.config.site_id,this.cfg.product));var s=this.get("rid");s||this.set("rid",utils.generateGUID())},utils.ACSStorage.prototype.setNewRepeatDays=function(t){var e=new Date;return e.setTime(e.getTime()+24*t*60*60*1e3),this.ckie&&this.ckie.set(this.storId,this.ckie.get(this.storId)||"{}",{expires:e}),e},utils.ACSStorage.prototype.save=function(){var t=JSON.stringify(this.data);this.ckie.set(this.storId,t),utils.FrameController.isSupported()&&this.fstg.set(this.storId,t)},utils.ACSStorage.prototype.set=function(t,e){this.data[t]=e,this.save()},utils.ACSStorage.prototype.setSession=function(t,e){sessionStorage.setItem(t,JSON.stringify(e))},utils.ACSStorage.prototype.get=function(t){var e,i=sessionStorage.getItem(t);if(utils.isDefined(i))return JSON.parse(i);if(this.data=JSON.parse(this.ckie.get(this.storId)||"{}"),utils.isArr(t)){e={};for(var s=0;s<t.length;s++)e[t[s]]=this.data[t[s]];return e}return this.data[t]},utils.ACSStorage.prototype.erase=function(t){if(this.data=JSON.parse(this.ckie.get(this.storId)||"{}"),this.data[t]){delete this.data[t];var e=JSON.stringify(this.data);return this.ckie.set(this.storId,e),utils.FrameController.isSupported()&&this.fstg.set(this.storId,e),!0}return!1},utils.ACSStorage.prototype.reset=function(){this.ckie.kill(this.storId),this.data={},utils.FrameController.isSupported()&&this.fstg.set(this.storId,JSON.stringify(this.data))},utils.AjaxTransport=function(t){var e={method:"POST",data:{},contentType:"application/x-www-form-urlencoded",success:function(){},failure:function(){}};this.options=utils.ext(e,t)},utils.AjaxTransport.prototype.send=function(t){var e=utils.ext(this.options,t||{});window.XDomainRequest?this._sendViaXDR(e):window.XMLHttpRequest&&this._sendViaXHR(e),e=null},utils.AjaxTransport.prototype.dispose=function(){utils.superDispose(this.options)},utils.AjaxTransport.isSupported=function(){return BROWSER.isIE&&BROWSER.browser.actualVersion<10&&"https:"!=location.protocol.toString()&&window==window.top?!1:!0},utils.AjaxTransport.initialize=function(t){t.call(utils.AjaxTransport)},utils.AjaxTransport.prototype._sendViaXHR=function(t){var e=new window.XMLHttpRequest,i=utils.isDefined(t.skipEncode)&&t.skipEncode===!0?t.data:utils.toQueryString(t.data),s=t.url;t.failure=t.failure||function(){},"GET"==t.method&&i&&i.length>0&&(i=i.replace("?",""),s+=s.indexOf("?")>-1?"&":"?",s+=i);try{e.open(t.method,s,!0)}catch(n){return}e.setRequestHeader("Accept","*/*"),e.setRequestHeader("Content-Type",t.contentType),e.onreadystatechange=function(t,e){return function(){4==e.readyState&&200==e.status?t.success&&t.success.apply(t,[e.responseText]):4==e.readyState&&200!=e.status&&t.failure&&t.failure.apply(t,[e.responseText])}}(t,e),e.send(i)},utils.AjaxTransport.prototype._sendViaXDR=function(t){var e=utils.isDefined(t.skipEncode)&&t.skipEncode===!0?t.data:utils.toQueryString(t.data,null,!1),i=t.url;t.failure=t.failure||function(){},"GET"==t.method&&e&&e.length>0&&(e=e.replace("?",""),i+=i.indexOf("?")>-1?"&":"?",i+=e);var s=new window.XDomainRequest;s.onerror=t.failure,s.ontimeout=t.failure,s.onprogress=function(){},s.onload=function(t,e){return function(){e.success(t.responseText),t=null,e=null}}(s,t),s.timeout=3e4;try{s.open(t.method,i)}catch(n){return void(t.failure&&t.failure(n))}s.send(e)};for(var _guidRoot=navigator.userAgent.replace(/[\s\\\/\.\(\);:]/gim,""),_guidMid="",i=0;i<_guidRoot.length-1;i+=_guidRoot.length/7)_guidMid+=Number(_guidRoot.charCodeAt(Math.round(i))%16).toString(16);_guidMid.length>7&&(_guidMid=_guidMid.substr(_guidMid.length-7)),utils.generateGUID=function(){var t=utils.now()+"";return _guidMid+"-"+_guidRoot.length+t.substr(t.length-6)+"-xxxx-xxxx-xxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"==t?e:3&e|8;return i.toString(16)})};var ScriptLoader=function(t){this.loadSuccess=new utils.FSEvent,this.loadFailure=new utils.FSEvent,this.st=document.createElement("script"),this.st.type="text/javascript",this.st.src=t,this.br=new utils.Browser,"undefined"!=typeof this.st.addEventListener?this._loadOnOthers():"undefined"!=typeof this.st.attachEvent&&this._loadOnIE()};if(ScriptLoader.prototype._loadOnIE=function(){var t=this,e=this.st;e.onreadystatechange=function(){3==e.readyState&&(e.onreadystatechange=function(){t.loadSuccess.fire(e.src),t.loadFailure=null},t.loadFailure&&t.loadFailure.fire(e.src))},document.body.appendChild(e)},ScriptLoader.prototype._loadOnOthers=function(){this.st.addEventListener("load",utils.proxy(function(){this.loadSuccess.fire(this.st.src)},this),!1),this.st.addEventListener("error",utils.proxy(function(){this.loadFailure.fire(this.st.src)},this),!1),document.body.appendChild(this.st)},!window.btoa){var ___t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",___o=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);window.btoa=function(t){var e,i,s,n,r,o;for(s=t.length,i=0,e="";s>i;){if(n=255&t.charCodeAt(i++),i==s){e+=___t.charAt(n>>2),e+=___t.charAt((3&n)<<4),e+="==";break}if(r=t.charCodeAt(i++),i==s){e+=___t.charAt(n>>2),e+=___t.charAt((3&n)<<4|(240&r)>>4),e+=___t.charAt((15&r)<<2),e+="=";break}o=t.charCodeAt(i++),e+=___t.charAt(n>>2),e+=___t.charAt((3&n)<<4|(240&r)>>4),e+=___t.charAt((15&r)<<2|(192&o)>>6),e+=___t.charAt(63&o)}return e},window.atob=function(t){var e,i,s,n,r,o,a;for(o=t.length,r=0,a="";o>r;){do e=___o[255&t.charCodeAt(r++)];while(o>r&&-1==e);if(-1==e)break;do i=___o[255&t.charCodeAt(r++)];while(o>r&&-1==i);if(-1==i)break;a+=String.fromCharCode(e<<2|(48&i)>>4);do{if(s=255&t.charCodeAt(r++),61==s)return a;s=___o[s]}while(o>r&&-1==s);if(-1==s)break;a+=String.fromCharCode((15&i)<<4|(60&s)>>2);do{if(n=255&t.charCodeAt(r++),61==n)return a;n=___o[n]}while(o>r&&-1==n);if(-1==n)break;a+=String.fromCharCode((3&s)<<6|n)}return a}}var FlashReplace={elmToReplace:null,flashIsInstalled:null,defaultFlashVersion:7,replace:function(t,e,i,s,n,r,o){if(o=utils.ext(o||{},{movie:e,allowscriptaccess:"always",wmode:"transparent",parentChild:window.top==window?"parent":"child"}),this.elmToReplace=t,this.flashIsInstalled=this.checkForFlash(r||this.defaultFlashVersion),this.elmToReplace&&this.flashIsInstalled){var a="<object"+(window.ActiveXObject?' id="'+i+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" data="'+e+'"':"");a+=' width="'+s+'"',a+=' height="'+n+'"',a+=">";var l="",u="";for(var c in o)l+='<param name="'+c+'" value="'+o[c]+'">',u+=" "+c+'="'+o[c]+'"';var d='<embed id="'+i+'" src="'+e+'" type="application/x-shockwave-flash" width="'+s+'" height="'+n+'"',h=u+"></embed>",f="</object>";this.elmToReplace.innerHTML=a+l+d+h+f}},checkForFlash:function(t){this.flashIsInstalled=!1;var e;if(window.ActiveXObject)try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+t),this.flashIsInstalled=!0}catch(i){}else if(navigator.plugins&&navigator.mimeTypes.length>0&&(e=navigator.plugins["Shockwave Flash"])){var s=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1");this.version=s,s>=t&&(this.flashIsInstalled=!0)}return this.flashIsInstalled}};utils.Flash=function(){};var flashSettings={swfFile:utils.makeURI("foresee/acs_utils.swf"),container:"_acs_swfContainerV3",size:{w:1,h:1},flashMajorVersion:"9"},_swfInTransit={};utils.Flash.isSupported=function(){return FlashReplace.checkForFlash()},utils.Flash.getVersion=function(){if(navigator.plugins&&navigator.mimeTypes.length>0&&(flash=navigator.plugins["Shockwave Flash"],flash)){var t=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1");return t}return 0},utils.Flash.initialize=function(t,e){if(this.flash_object=document.getElementById(flashSettings.container+"_"),this.flash_object)return t.call(e,this);var i=document.createElement("div");i.id=flashSettings.container,utils.css(i,{position:"absolute",top:1,left:1,width:1,height:1,minWidth:1,minHeight:1,padding:0,margin:0,display:"block",visibility:"visible"}),document.body.appendChild(i);var s=document.body;utils.css(i,{top:s.scrollTop+1,left:s.scrollLeft+1}),FlashReplace.replace(i,flashSettings.swfFile,flashSettings.container+"_",1,1),this._monitorReady(t,e)},utils.Flash._monitorReady=function(t,e){var i=utils.Flash,s=this;i._checkTimer=setInterval(function(){var i=utils.Flash;s.flash_object=document.getElementById(flashSettings.container+"_"),s.flash_object&&s.flash_object.isAlive&&t&&(clearInterval(i._checkTimer),t.call(e,s),t=null)},20),i=null},utils.Async=function(t,e,i){this.isParallel=!!t,this._queue=[],this.success=e,this.fail=i,this.isPending=!0},utils.Async.prototype.enqueue=function(t){this._queue.push({fn:t,resolved:!1}),(this.isParallel||1==this._queue.length)&&t.apply(this,[{resolve:utils.proxy(function(){setTimeout(utils.proxy(function(){this.ctx.resolve(this.cb)},this),20)},{cb:t,ctx:this}),error:utils.proxy(function(){this.ctx.error(this.cb)},{cb:t,ctx:this})}])},utils.Async.prototype.resolve=function(t){if(this.isPending){if(!t)throw new Error("Missing caller argument.");var e,i,s=!1;for(e=0;e<this._queue.length;e++)i=this._queue[e],i.fn===t?i.resolved=!0:i.resolved||(s=!0);if(!this.isParallel&&s){var n;for(e=0;e<this._queue.length;e++)if(i=this._queue[e],i.resolved===!1){n=i;break}if(n)return void n.fn.apply(this,[{resolve:utils.proxy(function(){this.ctx.resolve(this.cb)},{cb:n.fn,ctx:this}),error:utils.proxy(function(){this.ctx.error(this.cb)},{cb:n.fn,ctx:this})}])}s||(this.isPending=!1,this.success.call(this))}},utils.Async.prototype.error=function(){this.isPending=!1,this.fail&&this.fail.call(this)},window.__acsJSONPCBr={},window.__acsJSONPCB=utils.proxy(function(t){if(t){var e=t.filename,i=atob(t.contents);window.__acsJSONPCBr[e]&&window.__acsJSONPCBr[e].fire(i)}},this),utils.JSONP=function(t){this._expireTimeout=null,this._networkError=new utils.FSEvent,this.opts=utils.ext({success:function(){},failure:function(){},timeout:5e3},t)},utils.JSONP.prototype.get=function(t,e){var i=t.indexOf("?")>-1?t.substr(t.indexOf("?")+1):"",s=t.substr(0,t.lastIndexOf("/")+1),n=t.substr(t.lastIndexOf("/")+1);this._expireTimeout=setTimeout(utils.proxy(function(){this._networkError.fire({type:"timedout"})},this),this.opts.timeout),n.indexOf("?")>-1&&(n=n.substr(0,n.indexOf("?")));var r=(e||"")+n,o=window.__acsJSONPCBr;if(!o[r]){o[r]=new utils.FSEvent;var a=s+n.substr(0,n.lastIndexOf("."))+"___"+n.substr(n.lastIndexOf(".")+1)+".js"+(i.length>0?"?"+i:""),l=new ScriptLoader(a);l.loadFailure.subscribe(utils.proxy(function(){this._networkError.fire({type:"internalserror"})},this))}o[r].subscribe(utils.proxy(function(t){this.opts.success(t),clearTimeout(this._expireTimeout)},this),!0,!0),this._networkError.subscribe(utils.proxy(function(t){this.opts.failure(t),o[r].unsubscribeAll()},this),!0,!0)};var __3pDataDisabled=!1;utils.FrameController=function(t,e){this.frameId="_acsTransportFrame",this.product=e||"foresee";var i=utils.makeURI(this.product+"/fs.storageframe.html?d="+document.domain);-1==i.indexOf("localhost")&&-1==i.indexOf("127.0.0.1")&&("//"==i.substr(0,2)&&(i="https:"+i),i=i.replace("http:","https:")),this.isSSL=i.toLowerCase().indexOf("https")>-1,this.isSSL&&(i=i.replace(/:[0-9]+/gi,"")),this.iframeSrc=i,this.ready=new utils.FSEvent,this.trackerMsg=new utils.FSEvent,this.trackerHeartbeat=new utils.FSEvent,this._3pDisabled=__3pDataDisabled,this._setVals={},this._ajaxCalls={},this._syncCalls={},acs.domReady(utils.proxy(function(){this._ensureFrame()},this)),this._namespace=t,utils.Bind(window,"message",utils.proxy(function(t){this._onMessage(t)},this))},utils.FrameController.prototype._ensureFrame=function(){if(this._iframeElement=document.getElementById(this.frameId),!this._iframeElement){var t=document.createElement("iframe");t.src=this.iframeSrc,t.id=this.frameId,t.className="ACS_",t.style.display="none",t.setAttribute("_fsrB",!0),document.body.appendChild(t),this._iframeElement=t,this.ready.didFire&&(this.ready=new utils.FSEvent)}},utils.FrameController.prototype._postMessage=function(t,e){this._ensureFrame();var i=JSON.stringify({src:"acstop",namespace:this._namespace,method:t,params:e||{}}),s=utils.proxy(function(){this._iframeElement.contentWindow.postMessage(i,"*")},this);this.ready.didFire?s():this.ready.subscribe(s)},utils.FrameController.prototype._onMessage=function(t){var e;if(t.data&&-1!=(t.data+"").indexOf("storageframe")){try{e=JSON.parse(t.data)}catch(i){return}if("storageframe"==e.src)switch(this.ready.didFire||this.ready.fire(),e.method){case"ajaxreturn":var s=e.params.params.ajaxid;this._ajaxCalls[s]&&this._ajaxCalls[s].cb&&(this._ajaxCalls[s].cb(!!e.params.success,e.params.res||""),delete this._ajaxCalls[s]);break;case"trackermsg":var n=JSON.parse(e.params);this.trackerMsg.fire(n);break;case"trackerhb":this.trackerHeartbeat.fire();break;case"syncreturn":var r=e.params.params.syncid;this._syncCalls[r]&&this._syncCalls[r].cb&&(this._syncCalls[r].cb(e.params.res||{}),delete this._ajaxCalls[r]);break;case"securityerror":this._3pDisabled=__3pDataDisabled=!0}}},utils.FrameController.prototype.set=function(t,e){var i="fsFCvals"+this._namespace;return localStorage.getItem(i)&&(this._setVals=JSON.parse(localStorage.getItem(i))),this._setVals[t]=e,this._3pDisabled?void localStorage.setItem(i,JSON.stringify(this._setVals)):this._postMessage("set",{key:t,value:e})},utils.FrameController.prototype.sync=function(t,e){if(nsoverride=e||this._namespace,!this._3pDisabled){var i="_"+Math.round(1e5*Math.random());return this._syncCalls[i]={payload:{syncid:i,nso:nsoverride},cb:t},this._postMessage("sync",this._syncCalls[i].payload)}var s="fsFCvals"+nsoverride;localStorage.getItem(s)&&(this._setVals=JSON.parse(localStorage.getItem(s))),t(this._setVals)},utils.FrameController.prototype.ajax=function(t,e,i,s,n,r){if(!this._3pDisabled){var o="_"+Math.round(999999*Math.random());return n=!!n,r=r||"application/x-www-form-urlencoded",this._ajaxCalls[o]={payload:{method:t,url:e,data:i,ajaxid:o,skipencode:n,contenttype:r},cb:s},this._postMessage("ajax",this._ajaxCalls[o].payload)}var a=new utils.AjaxTransport({url:e,method:t,skipEncode:n,contentType:r,success:utils.proxy(function(t){s(!0,t||"")},this),failure:utils.proxy(function(t){s(!1,t||"")},this),data:i});a.send()},utils.FrameController.isSupported=function(){return!!window.postMessage},utils.randomRange=function(t,e){return t+Math.random()*(e-t)},utils.FlashTransport=function(t){this.options=utils.ext({url:"",data:"",gSessionId:"",sessionId:"",domain:"",version:"",metaData:"",siteId:"",success:function(){},failure:function(){},WAIT_TIMEOUT:1e4},t)},utils.FlashTransport.prototype.send=function(t){var e=utils.ext(this.options,t),i=document.getElementById(flashSettings.container+"_");if(i&&i.ping){var s=utils.generateGUID();_swfInTransit[s]={_this:this,_success:e.success,_failure:e.failure},"data"==e.action?i.sendData(e.data,e.url,s,e.gSessionId,e.sessionId,e.domain,e.siteId,e.version,e.encoding,e.metaData):i.ping(e.url,s,e.sessionId,e.siteId)}e=null},utils.FlashTransport.isSupported=function(){return FlashReplace.isSupported()},utils.FlashTransport.initialize=function(t){utils.Flash.initialize(t,utils.FlashTransport)},utils.FlashTransport.dispose=function(){utils.Flash.dispose()},window._acsFlashTransportResponse=function(t,e){var i=JSON.parse(e);i.status&&i.status>0?_swfInTransit[t]._success.call(_swfInTransit[t]._this,e):_swfInTransit[t]._failure.call(_swfInTransit[t]._this,e),delete _swfInTransit[t]},utils.ImageTransport=function(t){var e={data:{},success:function(){},failure:function(){}};this.options=utils.ext(e,t)},utils.ImageTransport.prototype.send=function(t){var e=utils.ext(this.options,t),i=new Image;i.onerror=e.failure,i.onload=function(){e.success({width:i.width,height:i.height})},i.src=utils.toQueryString(e.data,e.url,!1)},utils.Browser=function(t,e){var i=this;i.os={name:"",version:0},i.browser={name:"",version:0,actualVersion:0},i.agent="",i.isMobile=!1,i.isTablet=!1,i.isIE=!1,i.isZoomable=!0,i.supportsSVG=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),i.isReady=!1,i.browserReady=new utils.FSEvent,i.isIos=!1,i.servUrl=location.protocol+"//device.4seeresults.com/detect?accessToken=";var s=i.agent=t||navigator.userAgent;i.isMobile=/iphone|ipad|ipod|android|kindle|silk|bntv|nook|blackberry|playbook|mini|windows\sce|windows\sphone|palm|bb10/i.test(s),i.isWinPhone=/Windows Phone/i.test(s),i.isMobile&&(/iphone|ipad|ipod/i.test(s)&&!i.isWinPhone&&(i.isIos=!0),/ipad|silk|kindle|playbook|nook|bntv/i.test(s)&&(i.isTablet=!0));var n=function(t){return s.toLowerCase().indexOf(t.toLowerCase())>-1},r=function(t,e){return"IE"!=t?e:e>6&&10>e?n("Trident")||7!=e?n("Trident/5.0")&&9>=e?9:n("Trident/4.0")&&9>e?n("WOW64")?8:7==e?e:8:e:7:e},o=function(t,e){return e?n("Windows Phone")?"Winphone":n("iPod")?"iPod":n("iPad")?"iPad":n("iPhone")?"iPhone":(n("blackberry")||n("playbook")||n("BB10"))&&n("applewebkit")?"Blackberry":n("Kindle")||n("Silk")?"Kindle":n("BNTV")||n("Nook")?"Nook":n("Android")?"Android":utils.isDefined(window.orientation)?"Mobile":"Other":n("Windows")?"Windows":n("OS X")?"Mac":n("Linux")||n("Googlebot")?"Linux":n("Mac")?"Mac":void 0},a=function(t,e){var i,s,r,o;return e?n("windows phone")||!n("ipad")&&!n("iphone")?n("googlebot")?1:(i=t.match(/Windows Phone OS[\/\s](\d+\.?\d+)/)||t.match(/Windows Phone[\/\s](\d+\.?\d+)/)||t.match(/Android[\/\s](\d+\.?\d+)/),r=utils.isDefined(i)?i[1]:1,min=parseFloat(r),!isNaN(min)&&min>0?min:r):(i=/OS ([0-9_]*) like/gi.exec(t),s=i[1].split("_"),r=parseInt(s[0]),o=parseInt(s[1]),r+o/10):1},l=function(){if("Winphone"!=i.os.name){var t=document.querySelectorAll("head meta[name=viewport],head meta[name=VIEWPORT],head meta[name=Viewport]")||[];if(utils.isArr(t)||(t=[t]),e||t.length>0){for(var s=function(t,e){var i=new RegExp("[\\w\\W]*"+e+"[\\s]*=[\\s]*([^\\s,;]*)[\\w\\W]*","i");return t?t.match(i):null},n=0;n<t.length;n++){var r=e||t[n].content,o=s(r,"user-scalable"),a=s(r,"initial-scale"),l=s(r,"maximum-scale");if(o&&o.length>1&&("0"==o[1]||"no"==o[1].toLowerCase()))return!1;if(a&&l)return!(a.length>1&&l.length>1&&1==parseFloat(a[1])&&1==parseFloat(l[1]))}return!0}return!0}return!1},u=utils._getBrowserNameAndVersion(s),c=function(){i.browser.name=u.name,i.browser.version=u.version,i.browser.actualVersion=r(i.browser.name,i.browser.version),i.os.name=o(s,i.isMobile),i.os.version=a(s,i.isMobile)},d=function(){i.isZoomable=l(),i.isReady=!0,i.browserReady.fire()},h=function(){c()};if(i.isMobile)if(i.isIos||""===i.servUrl||i.isTablet||i.isWinPhone)h(),d();else{var f,p=function(t){var e=JSON.parse(t);i.browser.name=e.browser.name,i.browser.version=i.browser.actualVersion=e.browser.version,i.os.name=e.os.name,i.os.version=e.os.version,i.isMobile=e.isMobile,i.isTablet=e.isTablet,d()};if(sessionStorage&&!t){var g=sessionStorage;f=sessionStorage.getItem("ACS_BROWSER")}if(f)p(f);else{var m=function(t){g&&g.setItem("ACS_BROWSER",t),p(t)},b=function(){h(),d()},_=function(){var t=new Date,e=t.getFullYear().toString(),i=(t.getMonth()+1).toString(),s=t.getDate().toString();return e+(i[1]?i:"0"+i[0])+(s[1]?s:"0"+s[0])},v=function(){var t=_()+"ForeSee"+(location.origin||"null");return utils.hashCode(t)},y={method:"GET",url:i.servUrl+v()+"&ua="+s,type:"*/*",contentType:"application/x-www-form-urlencoded",success:m,failure:b};new utils.AjaxTransport(y,!0).send()}}else c(),i.isReady=!0,i.isIE="IE"==i.browser.name,i.browserReady.fire()},utils._unsupportedDevice=function(t){for(var e in UNSUPPORTED_DEVICES)if(t.match(UNSUPPORTED_DEVICES[e]))return!0},utils._getBrowserNameAndVersion=function(t){var e,i,s="Unknown";return null!==(i=t.match(/Opera[\/\s](\d+\.\d+)/))?s="Opera":null!==(i=t.match(/Edge\/([0-9\.]*)/))?s="IE":null!==(i=t.match(/opr[\/\s](\d+\.\d+)/i))?s="Opera":null!==(i=t.match(/Windows Phone[\/\s](\d+\.\d+)/))?s="IEMobile":null!==(i=t.match(/MSIE (\d+\.\d+)/))?s="IE":null!==(i=t.match(/Navigator[\/\s](\d+\.\d+)/))?s="Netscape":null!==(i=t.match(/Chrome[\/\s](\d+\.\d+)/))?s="Chrome":null!==(i=t.match(/Version\/([0-9\.]*)[\w\W]*Safari/i))?s="Safari":null!==(i=t.match(/Firefox[\/\s](\d+\.\d+)/))?s="Firefox":null!==(i=t.match(/googlebot/gi))?(s="Chrome",e=44):Object.hasOwnProperty.call(window,"ActiveXObject")&&!window.ActiveXObject&&(s="IE",e=11),{name:s,version:e||(null!==i?parseFloat(i[1]):void 0)}},utils.dedupe=function(t){var e,i;for(e=t.length-1;e>=0;e--)for(i=e-1;i>=0;i--)t[i]==t[e]&&t.splice(e,1);return t},utils.arrayIndexOf=function(t,e){for(var i in e)if(e[i]===t)return i;return-1},utils.inArray=function(t,e){return-1!=utils.arrayIndexOf(t,e)},utils.Cookie=function(t){this.opts=t||{}},utils.Cookie.prototype.set=function(t,e,i){var s=this.opts;i&&(s=utils.ext({},s,i)),e=utils.isDefined(s.encode)?encodeURIComponent(e):e,t=encodeURIComponent(t),"localhost"==s.domain&&delete s.domain;for(var n in s)if(s[n]){var r=s[n];switch(e+=";"+("duration"===n?"expires":n),n){case"duration":e+="="+new Date(utils.now()+r*utils.FULL_DAY).toGMTString();break;default:e+="="+r}}document.cookie=t+"="+e},utils.Cookie.prototype.get=function(t){var e=document.cookie.match("(?:^|;)\\s*"+utils.escapeRegExp(t)+"=([^;]*)");return e?decodeURIComponent(e[1]):null;
},utils.Cookie.prototype.kill=function(t){var e=new Date;e.setTime(e.getTime()-9999),this.set(t,"",{expires:e})},utils.CPPS=function(t,e){this.gs=t||new utils.ACSStorage(null,e||"foresee")},utils.CPPS.prototype={site_id:function(){return this.gs.cfg.config.site_id},set:function(t,e){var i=this.all();i[t]=e+"",this.gs.set("cp",i)},get:function(t){return this.all()[t]},all:function(){return this.gs.get("cp")||{}},toQueryString:function(){var t=[],e=this.all();for(var i in e)t.push("cpp["+encodeURIComponent(i)+"]="+encodeURIComponent(e[i]));return t.join("&")},erase:function(t){var e=this.all();delete e[t],this.gs.set("cp",e)},save:function(){this.gs.save()},append:function(t,e,i){var s=this.gs.get("cp")||{};if(s[t]=(s[t]||"")+","+e,i){var n=s[t].split(","),r=n.length-1,o=n.length>i?n.length-i:0;s[t]=n.splice(o,r-o+1).join()}this.gs.set("cp",s)}},utils.DomStorage=function(t,e,i,s){this.isLocal=!!i,t||(t="STORAGE"),this.guid="FSR_"+t.replace(/[- _.&]/g,"").toUpperCase(),this.StorageFull=new utils.FSEvent,this.storageLimit=45e5,this.kill(),this.sync(),(!utils.isDefined(e)||e)&&setTimeout(utils.proxy(function(){utils.Bind(window,"unload",utils.proxy(function(){this.commit()},this))},this),100)},utils.DomStorage.prototype.testStorageLimit=function(){return this.storageBytesObj+this.storageBytesBlob>=this.storageLimit?(this.StorageFull.fire(this),!0):!1},utils.DomStorage.prototype.dispose=function(t){this._data_obj[t]&&(delete this._data_obj[t],this.storageBytesObj=JSON.stringify(this._data_obj).length)},utils.DomStorage.prototype.kill=function(){this.storageBytesObj=0,this.storageBytesBlob=0,this._data_obj={},this._data_blob="",this.isNewStorage=!0},utils.DomStorage.prototype.get=function(t){return this._data_obj[t]},utils.DomStorage.prototype.getBlob=function(){return this._data_blob},utils.DomStorage.prototype.set=function(t,e){e&&(this._data_obj[t]=e,this.storageBytesObj=JSON.stringify(this._data_obj).length,this.isNewStorage=!1,this.testStorageLimit())},utils.DomStorage.prototype.setBlob=function(t){this._data_blob=t,this.storageBytesBlob=this._data_blob.length,this.isNewStorage=!1,this.testStorageLimit()},utils.DomStorage.prototype.isNew=function(){var t;return window.opener&&!this.get("isNew")&&(t=!0,this.set("isNew",t)),t||this.isNewStorage},utils.DomStorage.initialize=function(t){t.apply(utils.DomStorage)},utils.DomStorage.isSupported=function(){return!!localStorage},utils.DomStorage.prototype.sync=function(){var t;try{t=localStorage.getObject(this.guid+"_OBJ"),t&&t.length>0&&(this._data_obj=JSON.parse(t),this.storageBytesObj=t.length,this.isNewStorage=!1)}catch(e){}try{t=localStorage.getObject(this.guid+"_BLOB"),t&&t.length>0&&(this._data_blob=t,this.storageBytesBlob=t.length,this.isNewStorage=!1)}catch(e){}},utils.DomStorage.prototype.commit=function(){try{localStorage.setItem(this.guid+"_OBJ",JSON.stringify(this._data_obj)),localStorage.setItem(this.guid+"_BLOB",this._data_blob)}catch(t){}},utils.WindowStorage=function(t,e,i){t||(t="STORAGE"),this.guid="FSR_"+t.replace(/[- _.&]/g,"").toUpperCase(),this.storageLimit=5e6,this.StorageFull=new utils.FSEvent,this.kill(),this.sync(),(!utils.isDefined(e)||e)&&setTimeout(utils.proxy(function(){utils.Bind(window,"unload",utils.proxy(function(){this.commit()},this))},this),100)},utils.WindowStorage.prototype.testStorageLimit=function(){return this.storageBytesObj+this.storageBytesBlob>=this.storageLimit?(this.StorageFull.fire(this),!0):!1},utils.WindowStorage.prototype.dispose=function(t){this._data_obj[t]&&(delete this._data_obj[t],this.storageBytesObj=JSON.stringify(this._data_obj).length)},utils.WindowStorage.prototype.kill=function(){this.storageBytesObj=0,this.storageBytesBlob=0,this._data_obj={},this._data_blob="",this.isNewStorage=!0},utils.WindowStorage.prototype.get=function(t){return this._data_obj[t]},utils.WindowStorage.prototype.getBlob=function(){return this._data_blob},utils.WindowStorage.prototype.set=function(t,e){e&&(this._data_obj[t]=e,this.storageBytesObj=JSON.stringify(this._data_obj).length,this.isNewStorage=!1,this.testStorageLimit())},utils.WindowStorage.prototype.setBlob=function(t){this._data_blob=t,this.storageBytesBlob=this._data_blob.length,this.isNewStorage=!1,this.testStorageLimit()},utils.WindowStorage.prototype.isNew=function(){return this.isNewStorage},utils.WindowStorage.initialize=function(t){t.apply(utils.WindowStorage)},utils.WindowStorage.isSupported=function(){return!0},utils.WindowStorage.prototype.sync=function(){var t=utils.nameBackup||window.name||"",e=this.guid+"_",i="",s=t.indexOf(e+"BEGIN_OBJ");s>-1&&(i=t.substr(s+(e+"BEGIN_OBJ").length,t.indexOf(e+"END_OBJ")-(s+(e+"BEGIN_OBJ").length)));try{i.length>0&&(this._data_obj=JSON.parse(i),this.storageBytesObj=i.length,this.isNewStorage=!1)}catch(n){}i="",s=t.indexOf(e+"BEGIN_BLOB"),s>-1&&(i=t.substr(s+(e+"BEGIN_BLOB").length,t.indexOf(e+"END_BLOB")-(s+(e+"BEGIN_BLOB").length)));try{i.length>0&&(this._data_blob=i,this.storageBytesBlob=i.length,this.isNewStorage=!1)}catch(n){}},utils.WindowStorage.prototype.commit=function(){var t=window.name;utils.isDefined(t)||(t="");var e=this.guid+"_",i=t.indexOf(e+"BEGIN_OBJ"),s=JSON.stringify(this._data_obj),n=e+"BEGIN_OBJ"+s+e+"END_OBJ";i>-1?t=t.substr(0,i)+n+t.substr(t.indexOf(e+"END_OBJ")+(e+"END_OBJ").length):t+=n,i=t.indexOf(e+"BEGIN_BLOB"),n=e+"BEGIN_BLOB"+this._data_blob+e+"END_BLOB",i>-1?t=t.substr(0,i)+n+t.substr(t.indexOf(e+"END_BLOB")+(e+"END_BLOB").length):t+=n,window.name=utils.nameBackup=t,this.storageBytes=window.name.length},utils.nameBackup=window.name;/***************************************
* @license
* ForeSee Client Code: Storage Frame
* http://www.answers.com/page/businesssolutions
* Built March 30, 16 10:01:32
* Version: 1.0.11
***************************************/
var Comms=function(t){var s=t.browser;this.useAlt=t.isIE&&s.version<9||"Safari"==s.name,this._bidID=1,this._stgLimit=2e3,this._trnsInterval=30,this.altBits=[],this.securityError=new utils.FSEvent;var e,r=!1;if(this.useAlt){var i=window.location.host.toString().toLowerCase().replace(/www\./gi,"");i.indexOf(":")>-1&&(i=i.substr(0,i.indexOf(":"))),this._stg={};var a=new Date;a.setTime(a.getTime()+31536e6);var n={path:"/",domain:i,secure:!1,encode:!0,expires:a.toGMTString()};this._ck=new utils.Cookie(n),this._cktimer=setInterval(utils.proxy(function(){try{if(this.altBits.length>0){var t=this._ck.get("acsmsgrec"),s=this._ck.get("acsIce");!s||!t&&r||(r=!0,this._ck.kill("acsmsgrec"),e=JSON.stringify(this.altBits.shift()),this._ck.set("acsmsg",e))}}catch(i){clearInterval(this._cktimer),this.securityError.fire()}},this),this._trnsInterval)}};Comms.prototype.set=function(t,s){if("string"!=typeof s&&(s=JSON.stringify(s)),this._ck){this._stg[t]=s;for(var e="_"+Math.round(999999*Math.random());s.length>0;)this.altBits.push({id:this._bidID++,t:e,k:t,d:s.substr(0,Math.min(this._stgLimit,s.length)),f:s.length<=this._stgLimit}),s=s.substr(Math.min(this._stgLimit,s.length))}else try{localStorage.setItem(t,s),localStorage.setItem("acsLastMsg",utils.now())}catch(r){this.securityError.fire()}},Comms.prototype.get=function(t){try{return this._ck?this._ck.get(t):localStorage.getItem(t)}catch(s){this.securityError.fire()}},Comms.prototype.kill=function(t){try{this._ck?this._ck.kill(t):localStorage.removeItem(t)}catch(s){this.securityError.fire()}};var FrameController=function(t){this.br=t,this._namespaces={},this.securityError=new utils.FSEvent,this.securityError.subscribe(utils.proxy(function(){this._postMessage("securityerror",{})},this),!0),this.cm=new Comms(t),this.cm.securityError.subscribe(utils.proxy(function(){this.securityError.fire()},this),!0),this._lastTrackerMsg={when:0,msg:""},utils.Bind(window,"message",utils.proxy(function(t){this._onMessage(t)},this),"*"),this._postMessage("ready",{}),setInterval(function(t){return function(){t._postMessage("ready",{})}}(this),250),setInterval(function(t){return function(){t._checkTrackerMsgs()}}(this),500)};FrameController.prototype._checkTrackerMsgs=function(){var t=this.cm.get("trkmsg"),s=this.cm.get("trkmsgts");this.cm.kill("trkmsg"),this.cm.kill("trkmsgts"),t&&s&&(s=parseInt(s,10),this._lastTrackerMsg.when<s&&(this._lastTrackerMsg.when=s,this._lastTrackerMsg.trkmsg=t,this._postMessage("trackermsg",t)))},FrameController.prototype._onMessage=function(t){var s;try{s=JSON.parse(t.data)}catch(e){return}var r=s.params.nso||s.namespace,i=s.method,a=s.params,n=a.skipencode,c=a.contenttype;if(!this._namespaces[r])try{this._namespaces[r]=JSON.parse(localStorage.getItem(r)||"{}")}catch(o){return void this.securityError.fire()}var h=this._namespaces[r];switch(i){case"set":h[a.key]=a.value,this.cm.set(r,JSON.stringify(h)),localStorage.setItem(r,JSON.stringify(h));break;case"get":this._postMessage("report",{key:a.key,value:(h[a.key]||"")+""});break;case"trackercmd":this.cm.set("trackermsg",JSON.stringify(a));break;case"ajax":var l=new utils.AjaxTransport({url:a.url,method:a.method,skipEncode:n,contentType:c,success:function(t,s){return function(t){s._postMessage("ajaxreturn",{params:a,res:t,success:!0})}}(a,this),failure:function(t,s){return function(t){s._postMessage("ajaxreturn",{params:a,success:!1,res:t})}}(a,this),data:a.data});l.send();break;case"sync":this._postMessage("syncreturn",{params:a,res:h})}},FrameController.prototype._postMessage=function(t,s){var e=JSON.stringify({src:"storageframe",method:t,params:s});window.parent.postMessage(e,"*")},utils.Bind(window,"load",function(t){var s=new utils.Browser;s.browserReady.subscribe(function(){var t=new FrameController(s),e="";setInterval(utils.proxy(function(){var s=t.cm.get("acsTrackerAlive"),r=t.cm.get("trackerinit");s&&s!=e&&(e=s,t._postMessage("trackerhb",s)),r&&(t._postMessage("trackermsg",JSON.stringify({initReceived:"true"})),t.cm.kill("trackerinit"))},this),250)},!0,!0)});var FrameTracker=function(){this._state={},this.tabs=-1,this.tabCountChanged=new utils.FSEvent,this._tm=setInterval(utils.proxy(function(){var t=new Date,s=0;for(var e in this._state)t-parseInt(this._state[e])>3e3?delete this._state[e]:s++;s!=this.tabs&&(this.tabs=s,this.tabCountChanged.fire(s))},this),1e3)};FrameTracker.prototype.registerFrameHB=function(t){this._sync(),this._state["_"+t]=(new Date).getTime(),this._sync(this._state)},FrameTracker.prototype._sync=function(t){t?(localStorage.setItem("_fsFTHB",JSON.stringify(t)),this._state=t):this._state=JSON.parse(localStorage.getItem("_fsFTHB")||"{}")};
    </script><style type="text/css"></style></head><body><h1>ForeSee Storage Utility Frame</h1><p>This frame is used to deliver ForeSee functionality to your website.</p></body></html>